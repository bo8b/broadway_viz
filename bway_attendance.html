<title>Percent of Tickets Sold</title>
<script src="https://d3js.org/d3.v5.js"></script>
<body onload='init()'>
<H2>Percent of Tickets Sold, by Year</H2>
<p>When we get into attendance records and financial records, our data becomes more limited, as this data set only reports these types of numbers for shows in the past 25 years or so.  So, for the next two slides, we will limit ourselves to shows from 1998 - 2018.</p>
<svg width=950 height=450>
</svg>
<script>
async function init() {

data = await d3.csv('https://bo8b.github.io/broadway_viz/broadway_attendance.csv');

xs = d3.scaleLinear().domain([1997,2020]).range([0,850]);
ys = d3.scaleLinear().domain([0,1]).range([350,0]);
width = 20

d3.select('svg')
  .selectAll("g")
  .data([1])
  .enter()
  .append("g")
    .attr("transform","translate(50,50)")
  .selectAll('rect')
  .data(data)
  .enter()
  .selectAll('rect')
  .data(data)
  .enter()
  .append('rect')
    .attr('x',function(d,i) {return xs(d.Year) - (width / 2);})
    .attr('y',function(d,i) {return ys(d.Avg_Cap);})
    .attr('width',width)
    .attr('height',function(d,i) {return ys(1 - d.Avg_Cap);})
    .style('fill',"darkorange")

d3.select("svg").append("g")
    .attr("transform","translate(50,50)")
    .call(d3.axisLeft(ys)
      .tickArguments([10,".0%"])
);
d3.select("svg").append("g")
    .attr("transform","translate(50,400)")
    .call(d3.axisBottom(xs)
      .tickArguments([17,"d"])
);

d3.select("svg").append("text")             
      .attr("transform","translate(475,435)")
      .style("text-anchor", "middle")
      .text("Year");

d3.select("svg").append("text")
      .attr("transform", "rotate(-90)")
      .attr("y", 0)
      .attr("x", -225)
      .attr("dy", "1em")
      .style("text-anchor", "middle")
      .text("Percent of Available Tickets Sold");  

}
</script>

<p>If we take the average number of tickets sold for shows in a year, and divide it by the average total number of seats available for shows in a year, that gives us an average attendance percentage.  We can see that this percentage is rising over time, which also indicates that while producers are mounting a fewer number of shows, the ones that are produced are indeed more successful, or at least better-attended.</p>
<p>&nbsp;</p>
<p><a href="bway_hist.html">← Previous</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="bway_financials.html">Next →</a></p>